\usepackage{cleveref}
\usepackage{semantic}
\usepackage{pdflscape}
\usepackage{framed}
\usepackage{fontspec}
\usepackage{ifxetex}

\newenvironment{widetwocolumn}
{
    \begin{fullwidth}
    \begin{multicols}{2}
}
{
    \end{multicols}
    \end{fullwidth}
}

\newenvironment{tufte-landscape}
{
    \begin{landscape}
    \advance\vsize6cm
    \csname @colroom\endcsname=\vsize
    \textheight=\vsize
    \csname @colht\endcsname=\vsize
}
{
    \end{landscape}
}

% https://tex.stackexchange.com/questions/307745/xelatex-latin-modern-mathbb-and-mathcal
\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
\let\mathbb\relax % remove the definition by unicode-math
\DeclareMathAlphabet{\mathbb}{U}{msb}{m}{n}

\mathlig{<N>}{\mathbb{N}}

% These are broken by default for an unknown reason. We fix them with matlig:
\mathlig{-}{\minus} % Normally renders as whitespace due to missing character.
\mathlig{|}{\mid} % Normally renders as "j"

\renewenvironment{quote}%
{\begin{leftbar}\begin{quotation}}%
{\end{quotation}\end{leftbar}}

\usepackage{lipsum}

% https://tex.stackexchange.com/questions/324754/what-is-the-default-font-in-the-tufte-handout-class
\setmainfont[Numbers=OldStyle, Scale = 1.0]{TeX Gyre Pagella}
\setsansfont[Scale=0.90]{TeX Gyre Heros}
\setmonofont{TeX Gyre Cursor}

% https://tex.stackexchange.com/questions/37561/getting-started-with-minion-pro-xelatex-and-mathspec
\ifxetex
  \newcommand{\ttls}[2][5]{%
    \begingroup\addfontfeatures{LetterSpace=#1}#2\endgroup
  }
  \renewcommand{\allcapsspacing}[1]{\ttls[15]{#1}}
  \renewcommand{\smallcapsspacing}[1]{\ttls[10]{#1}}
  \renewcommand{\allcaps}[1]{\ttls[15]{\MakeTextUppercase{#1}}}
  \renewcommand{\smallcaps}[1]{\smallcapsspacing{\scshape\MakeTextLowercase{#1}}}
  \renewcommand{\textsc}[1]{\smallcapsspacing{\textsmallcaps{#1}}}
\fi
